// Apple App Store pricing data for Tier 6 ($5.99 USD / $9.99 NZD)
// Auto-generated from Apple's pricing matrix

export interface PricingData {
  country: string;
  currencyCode: string;
  price: string;
  numericPrice: number;
  flag: string;
}

export const PRICING_BY_COUNTRY: Record<string, Omit<PricingData, 'flag'>> = {
  NZ: { country: "New Zealand", currencyCode: "NZD", price: "9.99", numericPrice: 9.99 },
  AF: { country: "Afghanistan", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  AL: { country: "Albania", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  DZ: { country: "Algeria", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  AO: { country: "Angola", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  AI: { country: "Anguilla", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  AG: { country: "Antigua and Barbuda", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  AR: { country: "Argentina", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  AM: { country: "Armenia", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  AU: { country: "Australia", currencyCode: "AUD", price: "9.99", numericPrice: 9.99 },
  AT: { country: "Austria", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  AZ: { country: "Azerbaijan", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  BS: { country: "Bahamas", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  BH: { country: "Bahrain", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  BB: { country: "Barbados", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  BY: { country: "Belarus", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  BE: { country: "Belgium", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  BZ: { country: "Belize", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  BJ: { country: "Benin", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  BM: { country: "Bermuda", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  BT: { country: "Bhutan", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  BO: { country: "Bolivia", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  BA: { country: "Bosnia and Herzegovina", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  BW: { country: "Botswana", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  BR: { country: "Brazil", currencyCode: "BRL", price: "39.90", numericPrice: 39.90 },
  VG: { country: "British Virgin Islands", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  BN: { country: "Brunei", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  BG: { country: "Bulgaria", currencyCode: "BGN", price: "12.99", numericPrice: 12.99 },
  BF: { country: "Burkina Faso", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  KH: { country: "Cambodia", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  CM: { country: "Cameroon", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  CA: { country: "Canada", currencyCode: "CAD", price: "7.99", numericPrice: 7.99 },
  CV: { country: "Cape Verde", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  KY: { country: "Cayman Islands", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  TD: { country: "Chad", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  CL: { country: "Chile", currencyCode: "CLP", price: "6990", numericPrice: 6990 },
  CN: { country: "China mainland", currencyCode: "CNY", price: "38.00", numericPrice: 38.00 },
  CO: { country: "Colombia", currencyCode: "COP", price: "29900", numericPrice: 29900 },
  CD: { country: "Congo, Democratic Republic of the", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  CG: { country: "Congo, Republic of the", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  CR: { country: "Costa Rica", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  CI: { country: "CÃ´te d'Ivoire", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  HR: { country: "Croatia", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  CY: { country: "Cyprus", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  CZ: { country: "Czech Republic", currencyCode: "CZK", price: "149", numericPrice: 149 },
  DK: { country: "Denmark", currencyCode: "DKK", price: "49", numericPrice: 49 },
  DM: { country: "Dominica", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  DO: { country: "Dominican Republic", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  EC: { country: "Ecuador", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  EG: { country: "Egypt", currencyCode: "EGP", price: "299.99", numericPrice: 299.99 },
  SV: { country: "El Salvador", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  EE: { country: "Estonia", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  SZ: { country: "Eswatini", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  FJ: { country: "Fiji", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  FI: { country: "Finland", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  FR: { country: "France", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  GA: { country: "Gabon", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  GM: { country: "Gambia", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  GE: { country: "Georgia", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  DE: { country: "Germany", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  GH: { country: "Ghana", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  GR: { country: "Greece", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  GD: { country: "Grenada", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  GT: { country: "Guatemala", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  GW: { country: "Guinea-Bissau", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  GY: { country: "Guyana", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  HN: { country: "Honduras", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  HK: { country: "Hong Kong", currencyCode: "HKD", price: "48", numericPrice: 48 },
  HU: { country: "Hungary", currencyCode: "HUF", price: "2490", numericPrice: 2490 },
  IS: { country: "Iceland", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  IN: { country: "India", currencyCode: "INR", price: "599", numericPrice: 599 },
  ID: { country: "Indonesia", currencyCode: "IDR", price: "99000", numericPrice: 99000 },
  IQ: { country: "Iraq", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  IE: { country: "Ireland", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  IL: { country: "Israel", currencyCode: "ILS", price: "19.90", numericPrice: 19.90 },
  IT: { country: "Italy", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  JM: { country: "Jamaica", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  JP: { country: "Japan", currencyCode: "JPY", price: "1000", numericPrice: 1000 },
  JO: { country: "Jordan", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  KZ: { country: "Kazakhstan", currencyCode: "KZT", price: "3490", numericPrice: 3490 },
  KE: { country: "Kenya", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  KR: { country: "Korea, Republic of", currencyCode: "KRW", price: "8800", numericPrice: 8800 },
  XK: { country: "Kosovo", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  KW: { country: "Kuwait", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  KG: { country: "Kyrgyzstan", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  LA: { country: "Laos", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  LV: { country: "Latvia", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  LB: { country: "Lebanon", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  LR: { country: "Liberia", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  LY: { country: "Libya", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  LT: { country: "Lithuania", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  LU: { country: "Luxembourg", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  MO: { country: "Macau", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  MG: { country: "Madagascar", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  MW: { country: "Malawi", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  MY: { country: "Malaysia", currencyCode: "MYR", price: "29.90", numericPrice: 29.90 },
  MV: { country: "Maldives", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  ML: { country: "Mali", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  MT: { country: "Malta", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  MR: { country: "Mauritania", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  MU: { country: "Mauritius", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  MX: { country: "Mexico", currencyCode: "MXN", price: "129", numericPrice: 129 },
  FM: { country: "Micronesia", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  MD: { country: "Moldova", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  MN: { country: "Mongolia", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  ME: { country: "Montenegro", currencyCode: "EUR", price: "5.99", numericPrice: 5.99 },
  MS: { country: "Montserrat", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  MA: { country: "Morocco", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  MZ: { country: "Mozambique", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  MM: { country: "Myanmar", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  NA: { country: "Namibia", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  NR: { country: "Nauru", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  NP: { country: "Nepal", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  NL: { country: "Netherlands", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  NI: { country: "Nicaragua", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  NE: { country: "Niger", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  NG: { country: "Nigeria", currencyCode: "NGN", price: "9900", numericPrice: 9900 },
  MK: { country: "North Macedonia", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  NO: { country: "Norway", currencyCode: "NOK", price: "79", numericPrice: 79 },
  OM: { country: "Oman", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  PK: { country: "Pakistan", currencyCode: "PKR", price: "1700", numericPrice: 1700 },
  PW: { country: "Palau", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  PA: { country: "Panama", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  PG: { country: "Papua New Guinea", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  PY: { country: "Paraguay", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  PE: { country: "Peru", currencyCode: "PEN", price: "24.90", numericPrice: 24.90 },
  PH: { country: "Philippines", currencyCode: "PHP", price: "399", numericPrice: 399 },
  PL: { country: "Poland", currencyCode: "PLN", price: "29.99", numericPrice: 29.99 },
  PT: { country: "Portugal", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  QA: { country: "Qatar", currencyCode: "QAR", price: "19.99", numericPrice: 19.99 },
  RO: { country: "Romania", currencyCode: "RON", price: "29.99", numericPrice: 29.99 },
  RU: { country: "Russia", currencyCode: "RUB", price: "499", numericPrice: 499 },
  RW: { country: "Rwanda", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  ST: { country: "SÃ£o TomÃ© and PrÃ­ncipe", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  SA: { country: "Saudi Arabia", currencyCode: "SAR", price: "24.99", numericPrice: 24.99 },
  SN: { country: "Senegal", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  RS: { country: "Serbia", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  SC: { country: "Seychelles", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  SL: { country: "Sierra Leone", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  SG: { country: "Singapore", currencyCode: "SGD", price: "8.98", numericPrice: 8.98 },
  SK: { country: "Slovakia", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  SI: { country: "Slovenia", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  SB: { country: "Solomon Islands", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  ZA: { country: "South Africa", currencyCode: "ZAR", price: "119.99", numericPrice: 119.99 },
  ES: { country: "Spain", currencyCode: "EUR", price: "6.99", numericPrice: 6.99 },
  LK: { country: "Sri Lanka", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  KN: { country: "St. Kitts and Nevis", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  LC: { country: "St. Lucia", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  VC: { country: "St. Vincent and the Grenadines", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  SR: { country: "Suriname", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  SE: { country: "Sweden", currencyCode: "SEK", price: "79", numericPrice: 79 },
  CH: { country: "Switzerland", currencyCode: "CHF", price: "5.00", numericPrice: 5.00 },
  TW: { country: "Taiwan", currencyCode: "TWD", price: "190", numericPrice: 190 },
  TJ: { country: "Tajikistan", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  TZ: { country: "Tanzania", currencyCode: "TZS", price: "17900", numericPrice: 17900 },
  TH: { country: "Thailand", currencyCode: "THB", price: "199", numericPrice: 199 },
  TO: { country: "Tonga", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  TT: { country: "Trinidad and Tobago", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  TN: { country: "Tunisia", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  TR: { country: "TÃ¼rkiye", currencyCode: "TRY", price: "299.99", numericPrice: 299.99 },
  TM: { country: "Turkmenistan", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  TC: { country: "Turks and Caicos Islands", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  UG: { country: "Uganda", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  UA: { country: "Ukraine", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  AE: { country: "United Arab Emirates", currencyCode: "AED", price: "22.99", numericPrice: 22.99 },
  GB: { country: "United Kingdom", currencyCode: "GBP", price: "5.99", numericPrice: 5.99 },
  US: { country: "United States", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  UY: { country: "Uruguay", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  UZ: { country: "Uzbekistan", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  VU: { country: "Vanuatu", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  VE: { country: "Venezuela", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  VN: { country: "Vietnam", currencyCode: "VND", price: "199000", numericPrice: 199000 },
  YE: { country: "Yemen", currencyCode: "USD", price: "5.99", numericPrice: 5.99 },
  ZM: { country: "Zambia", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
  ZW: { country: "Zimbabwe", currencyCode: "USD", price: "6.99", numericPrice: 6.99 },
};

// Default fallback pricing (USD)
export const DEFAULT_PRICING: PricingData = {
  country: "United States",
  currencyCode: "USD",
  price: "5.99",
  numericPrice: 5.99,
  flag: "ðŸ‡ºðŸ‡¸",
};

// Currency symbols mapping
export const CURRENCY_SYMBOLS: Record<string, string> = {
  USD: "$",
  EUR: "â‚¬",
  GBP: "Â£",
  JPY: "Â¥",
  CNY: "Â¥",
  AUD: "A$",
  CAD: "C$",
  NZD: "NZ$",
  SGD: "S$",
  HKD: "HK$",
  INR: "â‚¹",
  KRW: "â‚©",
  BRL: "R$",
  MXN: "Mex$",
  ZAR: "R",
  SEK: "kr",
  NOK: "kr",
  DKK: "kr",
  CHF: "CHF",
  PLN: "zÅ‚",
  THB: "à¸¿",
  IDR: "Rp",
  MYR: "RM",
  PHP: "â‚±",
  VND: "â‚«",
  TRY: "â‚º",
  RUB: "â‚½",
  AED: "AED",
  SAR: "SR",
  ILS: "â‚ª",
  CZK: "KÄ",
  HUF: "Ft",
  RON: "lei",
  BGN: "Ð»Ð²",
  QAR: "QR",
  KZT: "â‚¸",
  NGN: "â‚¦",
  EGP: "EÂ£",
  CLP: "$",
  COP: "$",
  PEN: "S/",
  PKR: "Rs",
  TWD: "NT$",
  TZS: "TSh",
};

/**
 * Convert country code to flag emoji
 */
function getFlagEmoji(countryCode: string): string {
  const codePoints = countryCode
    .toUpperCase()
    .split('')
    .map(char => 127397 + char.charCodeAt(0));
  return String.fromCodePoint(...codePoints);
}

/**
 * Get localized pricing based on country code
 */
export function getLocalizedPricing(countryCode?: string): PricingData {
  if (!countryCode) {
    return DEFAULT_PRICING;
  }

  const pricing = PRICING_BY_COUNTRY[countryCode.toUpperCase()] || DEFAULT_PRICING;
  return {
    ...pricing,
    flag: getFlagEmoji(countryCode.toUpperCase())
  };
}

/**
 * Get all countries sorted alphabetically
 */
export function getAllCountries(): Array<{ code: string; data: PricingData }> {
  return Object.entries(PRICING_BY_COUNTRY)
    .map(([code, data]) => ({
      code,
      data: {
        ...data,
        flag: getFlagEmoji(code)
      }
    }))
    .sort((a, b) => a.data.country.localeCompare(b.data.country));
}

/**
 * Format price with currency symbol
 */
export function formatPrice(pricing: PricingData): string {
  const symbol = CURRENCY_SYMBOLS[pricing.currencyCode] || pricing.currencyCode;

  // For currencies without decimals (JPY, KRW, etc.)
  const noDecimalCurrencies = ["JPY", "KRW", "VND", "CLP", "IDR", "HUF", "TWD", "CZK", "PKR", "NGN", "TZS"];

  if (noDecimalCurrencies.includes(pricing.currencyCode)) {
    return `${symbol}${Math.round(pricing.numericPrice).toLocaleString()}`;
  }

  // For currencies with decimals
  return `${symbol}${pricing.price}`;
}
